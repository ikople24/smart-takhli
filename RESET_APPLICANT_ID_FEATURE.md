# ฟีเจอร์รีเซ็ตเลขที่ผู้สมัคร (Reset Applicant ID)

## ปัญหาที่แก้ไข

เมื่อมีการลบข้อมูลผู้สมัครออกจากระบบ เลขที่ผู้สมัคร (applicantId) ที่สร้างใหม่จะซ้ำกับเลขเก่าที่ยังคงอยู่ในฐานข้อมูล ทำให้เกิดปัญหาในการส่งข้อมูลใหม่

## วิธีแก้ไข

### 1. API Endpoint ใหม่
สร้าง API endpoint `/api/education/reset-applicant-id` สำหรับรีเซ็ตเลขที่ผู้สมัครทั้งหมด

**ฟีเจอร์:**
- รีเซ็ตเลขที่ผู้สมัครทั้งหมดให้เป็นลำดับใหม่ตามวันที่สร้างข้อมูล
- เรียงลำดับตาม `createdAt` จากเก่าสุดไปใหม่สุด
- อัปเดตเลขที่ผู้สมัครเป็นรูปแบบ `TKC-001`, `TKC-002`, `TKC-003`, ...

### 2. ปุ่มในหน้า Admin
เพิ่มปุ่ม "รีเซ็ตเลขที่ผู้สมัคร" ในหน้า `/admin/education-map`

**ฟีเจอร์:**
- แสดง confirmation dialog ก่อนดำเนินการ
- แสดง loading state ขณะประมวลผล
- แสดงผลลัพธ์การรีเซ็ต
- รีเฟรชข้อมูลอัตโนมัติหลังรีเซ็ตสำเร็จ

## วิธีการใช้งาน

1. เข้าไปที่หน้า Admin → Education Map
2. คลิกปุ่ม "รีเซ็ตเลขที่ผู้สมัคร" (สีม่วง)
3. ยืนยันการดำเนินการใน dialog
4. รอการประมวลผล
5. ตรวจสอบผลลัพธ์

## ข้อควรระวัง

- การรีเซ็ตจะเปลี่ยนเลขที่ผู้สมัครทั้งหมดในระบบ
- ควรทำการ backup ข้อมูลก่อนดำเนินการ
- หลังรีเซ็ตแล้ว เลขที่ผู้สมัครใหม่จะเริ่มต้นจาก TKC-001 ตามลำดับ

## ไฟล์ที่เกี่ยวข้อง

- `pages/api/education/reset-applicant-id.js` - API endpoint สำหรับรีเซ็ต
- `pages/admin/education-map.js` - หน้า admin ที่เพิ่มปุ่มรีเซ็ต
- `models/EducationRegisterModel.js` - โมเดลข้อมูลการศึกษา

## ตัวอย่างการใช้งาน

```javascript
// เรียกใช้ API
const response = await fetch('/api/education/reset-applicant-id', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
});

const result = await response.json();
console.log(`รีเซ็ตสำเร็จ: ${result.updatedCount} รายการ`);
```

## ผลลัพธ์ที่คาดหวัง

หลังการรีเซ็ต:
- เลขที่ผู้สมัครทั้งหมดจะเป็นลำดับใหม่
- ไม่มีเลขที่ซ้ำกัน
- สามารถส่งข้อมูลใหม่ได้โดยไม่มีปัญหา 