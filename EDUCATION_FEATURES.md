# ระบบจัดการข้อมูลการศึกษา - ฟีเจอร์ใหม่

## ฟิลด์ข้อมูลใหม่ที่เพิ่มเข้ามา

### 1. จำนวนสมาชิกในบ้าน (Household Members)
- **ประเภทข้อมูล**: ตัวเลข (Number)
- **ค่าเริ่มต้น**: 1
- **ค่าต่ำสุด**: 1
- **การใช้งาน**: ใช้สำหรับคำนวณรายได้ต่อคนในครอบครัว

### 2. สถานภาพที่อยู่ผู้ปกครอง (Housing Status)
- **ประเภทข้อมูล**: ตัวเลือก (Enum)
- **ตัวเลือกที่มี**:
  - ผู้อาศัย
  - เจ้าของ
  - บ้านเช่า
  - อื่นๆ
- **การใช้งาน**: ใช้สำหรับวิเคราะห์สถานภาพที่อยู่ของผู้ปกครอง

### 3. ทุนการศึกษาที่ได้รับ (Received Scholarship)
- **ประเภทข้อมูล**: อาร์เรย์ของสตริง (Array of String)
- **ตัวเลือกที่มี**:
  - ทุนเรียนดี
  - ทุนยากจน
  - ทุนกองทุนการศึกษา
  - ทุนจากองค์กรภายนอก
  - ไม่ได้รับทุน
- **การใช้งาน**: ใช้สำหรับติดตามทุนการศึกษาที่ได้รับ

## ฟีเจอร์การคำนวณ

### รายได้ต่อคน (Income Per Person)
ระบบจะคำนวณรายได้ต่อคนโดยอัตโนมัติ:
```
รายได้ต่อคน/ปี = รายได้ต่อปี ÷ จำนวนสมาชิกในบ้าน
รายได้ต่อคน/เดือน = รายได้ต่อคน/ปี ÷ 12
รายได้ต่อคน/วัน = รายได้ต่อคน/เดือน ÷ 30
```

**หมายเหตุ**: เมื่อจำนวนสมาชิกในบ้านเพิ่มขึ้น รายได้ต่อคนจะลดลงตามสัดส่วน

### การแสดงผลในแดชบอร์ด
- **สมาชิกเฉลี่ย**: แสดงจำนวนสมาชิกเฉลี่ยของทุกครอบครัว
- **รายได้เฉลี่ย/คน/ปี**: แสดงรายได้เฉลี่ยต่อคนต่อปี
- **รายได้เฉลี่ย/คน/เดือน**: แสดงรายได้เฉลี่ยต่อคนต่อเดือน
- **รายได้เฉลี่ย/คน/วัน**: แสดงรายได้เฉลี่ยต่อคนต่อวัน
- **เจ้าของบ้าน**: แสดงจำนวนคนที่เป็นเจ้าของบ้าน
- **ผู้อาศัย**: แสดงจำนวนคนที่เป็นผู้อาศัย
- **บ้านเช่า**: แสดงจำนวนคนที่เช่าบ้าน

## การใช้งาน

### 1. การแก้ไขข้อมูล
1. ไปที่หน้า "แผนที่ภาพรวมข้อมูลสำรวจทางการศึกษา"
2. คลิกที่แท็บ "ตารางข้อมูล"
3. คลิกปุ่ม "แก้ไข" ในแถวที่ต้องการ
4. กรอกข้อมูลในฟิลด์ใหม่:
   - จำนวนสมาชิกในบ้าน
   - สถานะที่อยู่อาศัย
   - ทุนการศึกษาที่ได้รับ
5. คลิก "บันทึก"

### 2. การดูข้อมูลสรุป
- ข้อมูลสรุปจะแสดงในส่วนบนของหน้าเสมอ
- แสดงสถิติต่างๆ รวมถึงข้อมูลใหม่ที่เพิ่มเข้ามา
- แสดงการคำนวณรายได้ต่อคนในรูปแบบต่างๆ (ปี/เดือน/วัน)

### 3. การกรองและเรียงลำดับ
- สามารถกรองข้อมูลตามระดับการศึกษา
- สามารถเรียงลำดับข้อมูลตามชื่อหรือวันที่

## การอัปเดตฐานข้อมูล

### โมเดลข้อมูล (EducationRegisterModel.js)
เพิ่มฟิลด์ใหม่ในโมเดล:
```javascript
householdMembers: {
  type: Number,
  default: 1,
  min: 1
},
housingStatus: {
  type: String,
  enum: ['เจ้าของ', 'เช่า', 'อาศัยกับญาติ', 'อื่นๆ'],
  default: ''
},
receivedScholarship: {
  type: [String],
  default: []
}
```

### API Endpoints
- **GET /api/education/all**: อัปเดตเพื่อดึงฟิลด์ใหม่
- **PUT /api/education/update**: อัปเดตเพื่อบันทึกฟิลด์ใหม่

## ข้อควรระวัง

1. **ข้อมูลเดิม**: ข้อมูลที่มีอยู่เดิมจะใช้ค่าเริ่มต้นสำหรับฟิลด์ใหม่
2. **การตรวจสอบ**: ระบบจะตรวจสอบความถูกต้องของข้อมูลก่อนบันทึก
3. **การคำนวณ**: การคำนวณรายได้ต่อคนจะใช้จำนวนสมาชิกในบ้านที่กรอก

## การพัฒนาต่อ

ฟีเจอร์นี้สามารถพัฒนาต่อได้โดย:
1. เพิ่มการวิเคราะห์ข้อมูลเชิงลึก
2. เพิ่มการสร้างรายงาน
3. เพิ่มการส่งออกข้อมูลในรูปแบบต่างๆ
4. เพิ่มการแสดงผลในรูปแบบกราฟหรือแผนภูมิ 